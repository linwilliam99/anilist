<!DOCTYPE html>
<html>
<head>
	<title>
		

	</title>


    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Anilist</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="index.html" class="brand-logo">Anilist</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="write.html">Write a Review</a></li>
      </ul>

      <ul id="nav-mobile" class="sidenav">
        <li><a href="write.html">Write a Review </a></li>
      </ul>
      <a href="write.html" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
  </nav>

<div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
      <div class="container">
        <br><br>
        <h1 class="header center teal-text text-lighten-2">Leave a Review</h1>
        <div class="row center">
          <h5 class="header col s12 light">Find What To Watch Next</h5>
        </div>

         <!-- HTML text boxes and icons -->
		<div class="row">
			<form class="col s12">
				<div class="row">
					<div class="input-field col s6">
						<i class="material-icons prefix">account_circle</i>
						<input id="icon_prefix" type="text" class="validate">
						<label for="icon_prefix">First Name</label>
					</div>
					<div class="input-field col s6">
						<i class="material-icons prefix">account_circle</i>
						<input id="icon_user" type="text" class="validate">
						<label for="icon_user">Username</label>	
					</div>
						<div class="row center">
					<div class="input-field col s12">
						<i class="material-icons prefix">border_color</i>
						<input id="icon_review" type="text" class="validate">
						<label for="icon_review">Write a Review</label>
					</div>
						<div class="input-field col s6">
						<i class="material-icons prefix">border_color</i>
						<input id="icon_rnum" type="text" class="validate">
						<label for="icon_rnum">Rate 1-10</label>
					</div>
					<a id = "submit" class="waves-effect waves-light btn">Submit</a>

					</div>

					</div>

				
					
				</div>
				</div>
			
				
				
				

				

				</div>
			
			</form>
		</div>




	 <!-- CDN for firebase -->

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
<script>
		// Your web app's Firebase configuration
	  var firebaseConfig = {
	    apiKey: "AIzaSyCUWWJRPGIhYsjxaPfRElzD2Qheda15jbQ",
	    authDomain: "anime-b2ac4.firebaseapp.com",
	    databaseURL: "https://anime-b2ac4.firebaseio.com",
	    projectId: "anime-b2ac4",
	    storageBucket: "anime-b2ac4.appspot.com",
	    messagingSenderId: "535524639578",
	    appId: "1:535524639578:web:114d7c24f0a6de4c93e963",
	    measurementId: "G-953TDSW2DS"
	  };
// Initialize Firebase
// Stors into variables
	firebase.initializeApp(firebaseConfig);
	var analytics = firebase.analytics();
  	var  database = firebase.database();
	var auth = firebase.auth();

		
			//on the submit button click, run function (arrow function)
		        document.getElementById("submit").onclick = () => {

            // Create a database object that we can refer to
            var database = firebase.database();

            // Create a reference to a particular location or "node" called reviews
            var ref = database.ref('reviews');

            // Grab and store the Name, username, numerical rating and review from the HTML frontend textboxes
            var name = document.getElementById("icon_prefix").value;
            var username = document.getElementById("icon_user").value;
            var nrate= document.getElementById("icon_rnum").value;
            var review= document.getElementById("icon_review").value;
            

            // Create a JSON object to add to the database with user-inputted data
            var data = {
                name: name,
                username: username,
                rating: nrate,
                review: review
            }
            // "PUSH" means we add something to the database
            ref.push(data);

            alert("Review Submited!");	
        	//alerts the user that the review is submitted


</script>


</body>
</html>